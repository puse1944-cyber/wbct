/*! Peity - Beautiful SVG Charts - v3.3.0
 * https://github.com/benpickles/peity
 * Copyright (c) 2012 Ben Pickles
 * MIT License
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).peity={})}(this,function(exports){"use strict";function peity(e,t){return new Peity(e,t)}function Peity(e,t){this.$el=e,this.type=t.type||"line",this.options=t,this.values=this.parse(this.$el.text()),this.init()}Peity.prototype={parse:function(e){var t=this.type;return"pie"===t||"donut"===t?this.parseDonut(e):this.parseLine(e)},parseLine:function(e){return e.split(/[,\s]+/).map(function(e){return parseFloat(e)})},parseDonut:function(e){return e.split(/[,\s]+/).map(function(e){return parseFloat(e)})},init:function(){var e=this;this.$el.hide(),this.$canvas=$("<canvas>").insertAfter(this.$el),this.$canvas.attr("width",this.options.width||64),this.$canvas.attr("height",this.options.height||64),this.ctx=this.$canvas[0].getContext("2d"),this.draw()},draw:function(){var e=this;switch(this.type){case"line":this.drawLine();break;case"bar":this.drawBar();break;case"pie":this.drawPie();break;case"donut":this.drawDonut()}},drawLine:function(){var e=this,t=this.ctx,n=this.$canvas.width(),o=this.$canvas.height(),i=this.values,r=this.options.padding||0,s=this.options.strokeWidth||1,a=this.options.stroke||"#c6d9fd",l=this.options.fill||"#c6d9fd",c=this.options.min||Math.min.apply(Math,i),u=this.options.max||Math.max.apply(Math,i),d=(n-2*r)/(i.length-1),f=(o-2*r)/(u-c);t.strokeStyle=a,t.lineWidth=s,t.beginPath(),t.moveTo(r,o-r-(i[0]-c)*f),i.forEach(function(e,i){t.lineTo(r+i*d,o-r-(e-c)*f)}),t.stroke(),t.fillStyle=l,t.fill()},drawBar:function(){var e=this,t=this.ctx,n=this.$canvas.width(),o=this.$canvas.height(),i=this.values,r=this.options.padding||0,s=this.options.min||Math.min.apply(Math,i),a=this.options.max||Math.max.apply(Math,i),l=(n-2*r)/i.length,c=(o-2*r)/(a-s),u=this.options.fill||"#c6d9fd";t.fillStyle=u,i.forEach(function(e,i){var n=r+i*l,o=r+(e-s)*c;t.fillRect(n,o-r,l-1,o)})},drawPie:function(){this.drawDonut()},drawDonut:function(){var e=this,t=this.ctx,n=this.$canvas.width(),o=this.$canvas.height(),i=this.values,r=this.options.padding||0,s=this.options.innerRadius||0,a=this.options.radius||Math.min(n,o)/2-r,l=this.options.fill||["#c6d9fd","#a4c2f4","#7dabf0","#5694ec","#2f7de8"],c=0,u=2*Math.PI/i.reduce(function(e,t){return e+t},0);t.translate(n/2,o/2),i.forEach(function(e,i){var n=c*u,o=(c+e)*u;t.beginPath(),t.arc(0,0,a,n,o),t.arc(0,0,s,n,o,!0),t.fillStyle=l[i%l.length],t.fill(),c+=e})}};peity.defaults={},peity.grep=function(e,t){var n=[];return e.each(function(){var e=$(this);e.is(t)&&n.push(e)}),$(n)},peity.register=function(e,t){Peity.prototype[e]=t},peity(0,0);var $=window.jQuery||window.Zepto;if($){$.fn.peity=function(e,t){return this.each(function(){var n=$(this),o=n.data("peity");o||(o=new Peity(n,e),n.data("peity",o)),t&&o[t]&&o[t]()})},$.fn.peity.defaults=peity.defaults}exports.default=peity,exports.Peity=Peity});
